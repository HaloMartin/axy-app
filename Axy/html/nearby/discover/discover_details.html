<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<script type="text/javascript" src="../../../js/common/flexible.js"></script>
		<link href="../../../css/lib/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="../../../css/app/app.css" />
		<style type="text/css">
			header {
				padding-left: 0.346666rem !important;
				padding-right: 0.346666rem !important;
			}
			
			header a img {
				width: 0.48rem;
			}
			
			.mui-bar-nav~.mui-content {
				padding-top: 0;
			}
			
			.mui-content {
				background-color: white
			}
			
			.mui-content>img {
				width: 100%;
				height: 7.866666rem;
			}
			
			.mui-icon>img {
				width: 0.8rem;
			}
			
			.user_tittle,
			.label,
			.description {
				margin-left: 0.346666rem;
				margin-right: 0.346666rem;
			}
			
			.user_tittle {
				height: 1.413333rem;
				line-height: 1.413333rem;
				color: #333333;
				border-bottom: 0.013333rem solid #E5E6E7;
			}
			
			.user_tittle>img {
				width: 0.986666rem;
				height: 0.986666rem;
				border-radius: 50%;
				margin-right: 0.4rem;
				vertical-align: middle;
			}
			
			.attention {
				float: right;
				border: 1px solid #ff3b30;
				border-radius: 3px;
				padding: 0.16rem;
				text-align: center;
				min-width: 0.8rem;
				height: 0.746666rem;
				line-height: 0.426666rem;
				position: relative;
				font-weight: bold;
				top: 50%;
				transform: translateY(-50%);
				-webkit-transform: translateY(-50%);
			}
			
			.attention:active {
				color: #FFFFFF;
				background-color: rgba(255, 0, 0, .6);
			}
			
			.label {
				color: #343434;
				font-weight: bold;
				margin-top: 0.32rem;
				padding: 0.106666rem 0;
			}
			
			.description {
				color: #9F9FA0;
				line-height: 20px;
				padding-bottom: 0.32rem;
			}
			
			.reply_tittle {
				padding-left: 0.346666rem;
				height: 0.906666rem;
				line-height: 0.906666rem;
				border-top: 0.013333rem solid #E5E6E7;
				border-bottom: 0.013333rem solid #E5E6E7;
				color: #808080;
			}
			
			.comments {
				padding: 0.346666rem;
				/*border: 1 px solid #BBBBBB;*/
			}
			
			.comments>img {
				height: 0.986666rem;
				width: 0.986666rem;
				border-radius: 50%;
				float: left;
			}
			
			.comment_info {
				padding-left: 1.333333rem;
			}
			
			.user_name {
				color: #406599;
			}
			
			.comment_value {
				color: #333333;
			}
			
			.replynum {
				display: inline-block;
				padding: 0;
				width: 1.466666rem;
				background-color: #F4F8FB;
				border-radius: 20px;
				text-align: center;
			}
			
			.time_replynum {
				padding: 0.266666rem 0;
			}
			
			.reply {
				padding: 0.133333rem;
				margin-bottom: 0.026666rem;
				background-color: #F4F8FB
			}
			/*footer*/
			
			.mui-content {
				padding-bottom: 1.36rem;
			}
			
			.footer {
				position: fixed;
				z-index: 99;
				width: 100%;
				height: 1.36rem;
				left: 0;
				bottom: 0;
				background-color: #FFFFFF;
				box-shadow: 0px -2px 5px #DDDDDD;
				-webkit-box-shadow: 0px -2px 5px #DDDDDD;
				display: flex;
				display: -webkit-flex;
				justify-content: space-between;
				align-items: center;
				padding: 0.4rem;
			}
			
			.footer img {
				width: .5rem;
				height: .5rem;
			}
			
			.footer>span {
				width: 0;
				position: relative;
				animation: show .25s forwards;
				-webkit-animation: show .25s forwards;
			}
			
			.footer>span.data-count:after {
				content: attr(data-count);
				font-size: 10px;
				color: #FFFFFF;
				text-align: center;
				line-height: 0.213333rem;
				position: absolute;
				width: 0.25rem;
				height: 0.213333rem;
				background-color: red;
				padding: 2px;
				right: -0.08rem;
				top: -0.07rem;
				border-radius: 50%;
			}
			
			.footer input {
				height: 0.88rem;
				border-radius: 5px;
				border: none;
				background-color: #F4F8FB;
				width: 5.2rem;
				padding-left: 0.4rem;
				transition-delay: 50ms;
				transition-property: width;
				transition-duration: 250ms;
			}
			
			@keyframes show {
				from {
					opacity: 0;
					width: 0;
				}
				to {
					opacity: 1;
					width: .5rem;
				}
			}
			
			@-webkit-keyframes show {
				from {
					opacity: 0;
					width: 0;
				}
				to {
					opacity: 1;
					width: .5rem;
				}
			}
			
			@keyframes hide {
				from {
					opacity: 1;
					width: .5rem;
				}
				to {
					opacity: 0;
					width: 0;
				}
			}
			
			@-webkit-keyframes hide {
				from {
					opacity: 1;
					width: .5rem;
				}
				to {
					opacity: 0;
					width: 0;
				}
			}
			
			.footer.isFocus>span {
				/*display: none;*/
				animation: hide .25s forwards;
				-webkit-animation: hide .25s forwards;
			}
			
			.footer.isFocus>span:after {
				display: none;
			}
			
			.footer.isFocus input {
				width: 100%;
			}
			/*背景图片*/
			
			.bgimage {
				width: 100%;
				height: 0;
				padding-bottom: 78.666666%;
				background-size: cover;
				background-position: center;
			}
		</style>
	</head>

	<body>

		<div class="wrapper">

			<header class="mui-bar mui-bar-nav mui-bar-transparent" data-top='0' data-offset='150' data-duration='16'>
				<a class="mui-icon mui-pull-left">
					<img src="../../../image/nearby/business/back.png" />
				</a>
				<h1 class="mui-title"></h1>
				<a class="mui-icon mui-pull-right">
					<img src="../../../image/nearby/business/share.png" />
				</a>
				<a class="mui-icon mui-pull-right" style="margin-right: -4px;">
					<img src="../../../image/nearby/business/collect.png" />
				</a>
			</header>

			<div class="footer" :class="{'isFocus': inputFoucs}">
				<input @focus="inputFoucs=true" @blur="inputFoucs=false" type="" name="" id="" value="" placeholder="123" />

				<span class="data-count" data-count=99>
				<img src="../../../image/common/agree_selected.png"/>	
			</span>
				<span>
				<img src="../../../image/common/agree_selected.png"/>	
			</span>
				<span>
				<img src="../../../image/common/agree_selected.png"/>	
			</span>
			</div>

			<div class="mui-content noImmersed  mui-scroll-wrapper">
				<div class="mui-scroll">
					<div class="bgimage" :style="'background-image: url('+ img +');'">

					</div>
					<div class="user_tittle app-font-size-26">
						<img :src="userIcon" />
						<div style="display: inline;" v-text="userName"></div>
						<div class="attention">+ 关注</div>
					</div>
					<div class="label app-font-size-26" v-text="label"></div>
					<div class="description app-font-size-26" v-text="description"></div>
					<div class="reply_tittle app-font-size-26">
						评论 &nbsp;(<div style="display: inline;" v-text="comments.length"></div>)
					</div>
					<div class="comments" v-for="o in comments">
						<img :src="o.userImg" />
						<div class="comment_info">
							<div class="user_name app-font-size-26" v-text="o.userName"></div>
							<div class="comment_value app-font-size-32" v-text="o.text"></div>
							<div class="time_replynum app-font-size-20">
								<div class="app-font-size-20" style="display: inline;" v-text="o.time"></div>
								·
								<div class="replynum" v-text="o.replys.length+'回复'"></div>
							</div>
							<div class="reply app-font-size-26" v-for="p in o.replys">
								<div class="user_name app-font-size-26" style="display: inline;" v-text="p.respondent"></div>:
								<div class="app-font-size-26" style="display: inline;" v-text="p.text"></div>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
		<!--沉浸式动态处理-->
		<script type="text/javascript" src="../../../js/common/immersed.js"></script>

		<!--基础配置-->
		<script type="text/javascript" src="../../../js/config.js"></script>
		<!--基础库-->
		<script type="text/javascript" src="../../../js/lib/mui.min.js"></script>
		<script type="text/javascript" src="../../../js/lib/vue.min.js"></script>
		<script type="text/javascript" src="../../../js/lib/vue-ni.js"></script>
		<!--请求相关-->
		<script type="text/javascript" src="../../../js/dal/base.js"></script>
		<!--App相关业务逻辑-->
		<script type="text/javascript" src="../../../js/app/app.js"></script>

		<!--<script type="text/javascript" src="../../../js/lib/md5.min.js"></script>-->
		<!--<script type="text/javascript" src="../../../js/common/imagelazyload.js"></script>-->

		<script type="text/javascript">
			mui.init();

			new Vue({
				el: '.wrapper',
				data: function() {
					return {
						inputFoucs: false,
						img: "http://placehold.it/750x590",
						userName: "小鳄鱼",
						userIcon: "http://placehold.it/74x74",
						isAttention: false,
						label: "#唯有美食不可辜负",
						description: "美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥美味的蛋黄酥",
						//						commentNum: "1",
						comments: [{
							userName: "大鳄鱼",
							userImg: "http://placehold.it/74x74",
							text: "地址？我也去买。",
							//将 · 提取出来做文本
							time: "11-02 02:06",
							replys: [{
								respondent: "小鳄鱼",
								text: "官龙村街口",
							}, {
								respondent: "小鳄鱼",
								text: "官龙村街口",
							}],
						}, {
							userName: "大鳄鱼",
							userImg: "http://placehold.it/74x74",
							text: "地址？我也去买。",
							//将 · 提取出来做文本
							time: "11-02 02:06",
							replys: [{
								respondent: "小鳄鱼",
								text: "不是说了嘛！",
							}],
						}, {
							userName: "大鳄鱼",
							userImg: "http://placehold.it/74x74",
							text: "地址？我也去买。",
							//将 · 提取出来做文本
							time: "11-02 02:06",
							replys: [{
								respondent: "小鳄鱼",
								text: "不是说了嘛！",
							}],
						}],

					};
				},
				mounted: function() {
					this.$nextTick(function() {

						this.$pullRefresh = mui(".mui-scroll-wrapper");
						mui.init({
							pullRefresh: {
								container: ".mui-scroll-wrapper", //下拉刷新容器标识，querySelector能定位的css选择器均可，比如：id、.class等
								down: {

								},
								up: {
									callback: this._up
								}
							}
						})
					}.bind(this));
				},
				plusReady: function() {

				},
				methods: {
					_up: function() {
						console.log("up")
						setTimeout(function() {

							this.$pullRefresh.pullRefresh().endPullupToRefresh();
						}.bind(this), 2000);
					}
				}
			});
		</script>
	</body>

</html>